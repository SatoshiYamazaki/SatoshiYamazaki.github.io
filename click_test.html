<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>写真サイズ変更</title>
		<style>
		  svg {
				width: 1000px;
				height: 600px;
				border: 1px solid black;
			}
		</style>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	</head>
	<body>
		<h1>写真サイズ変更(revised)</h1>
		<svg id="myGraph"></svg>
		<script>
		var dataSet = [100, 130, 5, 60, 240];
    var clicked = 0;
		var xlength = 500;
		var ylength = 300;
		var zoomrate = 2;

		var image = d3.select("#myGraph")	// SVG要素を指定
			.append("image")
			.attr("class", "bar")	// CSSクラスを追加
			.attr("xlink:href", "img/change_ph01.jpg")
			.attr("x", 0)
			.attr("y", 0)
			.attr("width", xlength)
			.attr("height", ylength)
			.on("click", function(){
				if(clicked==0){
					clicked = 1;
					d3.select(this)	// クリックされた要素を指定
						.attr("width", xlength)	// 塗りのスタイルを水色にする
						.attr("height", ylength)
						.transition()
						.duration(1000)
						.attr("width", zoomrate * xlength)	// 塗りのスタイルを水色にする
						.attr("height", zoomrate * ylength)
				}
				else{
					clicked = 0;
					d3.select(this)	// クリックされた要素を指定
						.attr("width", zoomrate * xlength)	// 塗りのスタイルを水色にする
						.attr("height", zoomrate * ylength)
						.transition()
						.duration(1000)
						.attr("width", xlength)	// 塗りのスタイルを水色にする
						.attr("height", ylength)
				}
			})
		</script>
	</body>
</html>
